# =============================================================================
# STORAGE PROVIDER CONFIGURATION
# =============================================================================
# Choose your storage provider:
#   cloudinary       - Recommended! 25GB free, no OAuth, fast CDN
#   drive            - Google Drive (15GB free, OAuth expires periodically)
#   gcs              - Google Cloud Storage (coming soon, 5GB free)
STORAGE_PROVIDER=cloudinary

# -----------------------------------------------------------------------------
# CLOUDINARY CONFIGURATION (Recommended - Free 25GB!)
# -----------------------------------------------------------------------------
# Sign up: https://cloudinary.com/users/register/free
# Get credentials: https://console.cloudinary.com/
CLOUDINARY_CLOUD_NAME=your_cloud_name_here
CLOUDINARY_API_KEY=your_api_key_here
CLOUDINARY_API_SECRET=your_api_secret_here

# -----------------------------------------------------------------------------
# GOOGLE DRIVE CONFIGURATION (Alternative - Free 15GB)
# -----------------------------------------------------------------------------
# Get these from: https://console.cloud.google.com/apis/credentials
# Run: npm run oauth (to generate refresh token)
GOOGLE_CLIENT_ID=your_google_client_id_here
GOOGLE_CLIENT_SECRET=your_google_client_secret_here
GOOGLE_REFRESH_TOKEN=your_google_refresh_token_here

# Default Google Drive folder for photo uploads
# Get folder ID from Drive URL: https://drive.google.com/drive/folders/YOUR_FOLDER_ID_HERE
GOOGLE_DRIVE_FOLDER_ID=your_drive_folder_id_here

# =============================================================================
# CLOUDINARY OPTIMIZATION SETTINGS (Optional - All default to optimal values)
# =============================================================================
# Enable/disable auto-quality optimization (reduces file size 40-60%)
CLOUDINARY_AUTO_QUALITY=true

# Enable/disable auto-format (serves WebP/AVIF on supported browsers)
CLOUDINARY_AUTO_FORMAT=true

# Use Cloudinary face detection for thumbnails (false = keep face-api.js)
CLOUDINARY_FACE_DETECTION=false

# =============================================================================
# DOWNLOAD RATE LIMITING (Optional - Prevents bandwidth abuse)
# =============================================================================
# Enable download rate limiting
DOWNLOAD_RATE_LIMIT=true

# Max concurrent downloads per user
DOWNLOAD_MAX_CONCURRENT=3

# Max downloads per minute per user
DOWNLOAD_MAX_PER_MINUTE=20

# Enable batching for large albums
DOWNLOAD_BATCHING=true

# Photos per batch
DOWNLOAD_BATCH_SIZE=50

# Max photos in single download (prevents bandwidth spikes)
DOWNLOAD_MAX_ALBUM_SIZE=500

# =============================================================================
# BANDWIDTH OPTIMIZATION (Optional - Reduces data usage)
# =============================================================================
# Serve optimized images by default
SERVE_OPTIMIZED=true

# Use lazy loading placeholders (ultra-fast page loads)
USE_PLACEHOLDERS=true

# Placeholder quality (1-100, lower = faster)
PLACEHOLDER_QUALITY=10

# Placeholder width in pixels
PLACEHOLDER_WIDTH=50

# =============================================================================
# AUTHENTICATION & SECURITY
# =============================================================================
# JWT Secret (REQUIRED for multi-tenancy)
# Generate a strong random secret with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=your-256-bit-random-secret-here

# JWT Token Expiry (optional, defaults to 7d)
JWT_EXPIRY=7d

# Super Admin Setup Secret (optional additional protection)
# Only needed when creating first super admin via /api/super-admin/setup
SETUP_SECRET=your-setup-secret-here

# Legacy Admin Password (deprecated, for backward compatibility only)
# Will be replaced by user-based authentication in multi-tenancy
ADMIN_PASSWORD=your_strong_admin_password_here

# Optional: Logging Level (ERROR, WARN, INFO, DEBUG)
LOG_LEVEL=INFO

# Optional: Cache TTL in milliseconds
CACHE_PHOTOS_TTL=30000
CACHE_FACES_TTL=60000

# Optional: Upload Configuration
MAX_FILE_SIZE=10485760
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/webp

# Optional: Face Detection Configuration
FACE_MATCH_THRESHOLD=0.50
FACE_MAX_SAMPLES=5

# Optional: Data Storage Paths
PHOTOS_FILE=./data/photos.json
FACES_FILE=./data/faces.json

# Database Configuration
# Get DATABASE_URL from: Vercel Dashboard → Storage → Postgres → .env.local tab
# DATABASE_URL="postgresql://user:password@host:5432/dbname?sslmode=require"

# Note: Copy this file to .env.local and fill in your actual values
# .env.local is gitignored and will not be committed to version control
